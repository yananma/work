
08.23  

#### 只显示 10 页，10 页以后的内容没有办法显示

问题产生的原因：最开始返回的总页数是，从 ES 里查的总数，但是使用缓存的时候就改成了单批缓存的数量。  

解决办法：使用缓存的时候，不要使用单批缓存的数量，而是使用总数量的缓存。  


#### 判断是使用缓存，还是再次请求

最开始是想使用页数，想在缓存名前加页数，一直不成功，点击 15 页，没有文章显示，而且会报错，说是无效的请求。  

这个问题的核心是判断当前数量是在缓存范围内，还是缓存范围之外；如果是在缓存范围之内，就使用缓存，如果在缓存范围之外，就再次去 ES 里查询

解决办法：用数量做判断。如果在数量以内，就使用缓存，如果在数量以外，就再次取 ES 里查询。    



