
一步一步来  

先弱后强，各个击破    


# 机器学习   











# 标注检查工具   

1. 重写状态按钮代码，把状态存到视频表里。   
2. 下拉框接口一次就可以请求，但是分了两次。应该是可以和查视频查图片在一起查的。     
3. 右键打开详细问题。   
4. 视频倍速播放问题。  
5. js 重复代码优化。   
6. 



# 修改保存功能   

1. 解决一次点击会多次调用监听事件问题。触发之前要先用 .off() 解绑监听事件，否则会累加。已完成。  
2. 测试 .one() 方法是否能达到同样的效果。不行，因为要每次判断 input 文本是否为空。已完成。  
3. 验证其他事件是否有多次执行的问题。所有通过 .on() 绑定的事件都有多次执行的问题。已完成。
4. 上面所有的事件都通过 .off() 解除绑定。已完成。   
5. 测试。改出了一些问题。已完成。
6. 解决删除按钮和上移按钮失效问题。已完成。   
7. 看 jQuery 官方文档查 .off() 的用法。要在 .off() 事件后面添加选择器，否则会互相干扰。已完成。  
8. 测试。已完成。  
9. 监听所有 input 框的 change 事件，当框内内容发生改变，且区域内文字不为空，则保存按钮颜色从灰色变为蓝色、移除按钮不可点击属性。      
10. 监听 change 事件。$(document).off("input", ".multi-line-input").on("input", ".multi-line-input", function () {}。已完成。  
11. 判断整个区域内所有 input 文字是否为空。this_line_input.parent().parent().find("p").text().trim() !== ""。已完成。
12. 如果内容改变，且非空，则按钮改变颜色。已完成。
13. 查看蓝色颜色编码。#3399ff。已完成。
14. 获取 button。this_line_input.parent().parent().siblings(".detail-right-button-area").find(".right-second-button")。已完成。  
15. 替换颜色。save_button.css("background-color", "#3399ff")。已完成。
16. 移除 disabled 属性。.removeAttr("disabled")。已完成。  
17. 如果为空，则需要修改颜色为灰色，并且添加 disabled 属性。save_button.css("background-color", "##999999").attr("disabled", "disabled")。已完成。
18. 测试。测试失败，为空的时候没有置灰。已完成。   
19. 浏览器 js 脚本没有更新。强刷。已完成。  
20. 测试。测试失败。已完成。  
21. 测试有没有进入分支语句。进入了分支语句。已完成。  
22. 确认选择器有没有获取到。获取到了。已完成。  
23. 检查为什么颜色没有改变。颜色编码中多写了一个 #。已完成。  
24. 测试。已完成。     
1. 测试有 disabled 属性的保存按钮，是否可以拿到点击事件。拿不到。已完成。
2. 获取保存按钮的点击事件。已完成。
3. 写后台接口。基本逻辑是：内容发生改变且文字非空则可以保存；保存数据库只修改这一张图片；图片状态改为已修；视频状态改为已修；只修改这一个类别，是 logo 就只修改 logo，是 ocr 就只修改 ocr；遍历前端所有的行；只有非空的行才会存；取文字和坐标；ocr 文字还要根据字幕花字进行处理。
4. 写 url。/detail_save。已完成。
5. 创建视图函数。已完成。
6. 写 Ajax 请求。已完成。
7. 解决报错。Ajax 语法错误。已完成。  
8. 解决端口占用，无法启动服务问题。已完成。  
9. 判断要传入的参数。图片 id、类别、如果是 ocr 还要传是字幕还是花字、文字内容、坐标、格式为数组套字典。
10. 获取 plus icon 的 id 属性。$(this).siblings("img").attr("id")。已完成。
11. 获取图片 id。从 plus icon 中获取。plus_icon_id.split("-")。已完成。
12. 查询 JavaScript 怎么获取数组最后一个元素。len-1；.pop()；slice(-1)。已完成。
13. 获取修改的类别。plus_icon_id_arr.slice(0)。已完成。
14. 测试结果。结果不正确。已完成。  
15. 读文档，查 slice() 的用法。如果只写一个数字，表示获取从这个数字开始到后面所有的元素的数组。已完成。
16. 改用索引获取元素。已完成。
17. 测试。测试 ocr、logo、breed。已完成。
18. 获取所有的 input。$(this).parent().siblings(".detail-right-input-area").find("p")。已完成。
19. 遍历 input。查遍历的方法。each()。已完成。
20. 测试能否获取到文字。可以获取到。已完成。
21. 替换所有的 position 属性为 data-position，否则获取坐标的时候还要根据类别做多次判断。已完成。  
22. 测试。已完成。
23. 获取坐标。$(this).attr("data-position")。已完成。
24. 打印结果，看结果是否正确。正确。已完成。
25. 获取 ocr 类别中该行是字幕还是花字的 button 的类别。已完成。  
1. 判断是 ocr 区域还是 logo、breed 区域。判断方法是有没有字幕花字 button。已完成。
2. 判断 ocr 区域的文字是字幕还是花字。通过 hasClass("active-zimu-button") 判断。已完成。  
3. 把每一行的结果字典放到数组里。用 push() 方法。已完成。  
4. 处理非 ocr 类别。已完成。  
5. 打印数组，查看结果。已完成。
6. 完成 Ajax 请求函数。改 get 请求为 post 请求。已完成。
7. 传输的数据格式从 query string 改为通过 data 传输。已完成。 
8. 在后台测试是否可以取到数据。已完成。
9. 解决后台取不到数组数据的问题。要通过 JSON.stringify() 转成 JSON 字符串。已完成。   
10. 后台获取前端传入的数据。id、category、input_lines。已完成。
11. 把 input_lines 整理成数据库中的格式。   
12. 先把 input_lines 转换为 python 对象，然后遍历，取出 text 和 position。已完成。
13. ocr 的 position 整理成 8 个坐标值形式。已完成。
14. logo 和 breed 整理成一个列表形式。已完成。  
15. 测试修改一个。测试失败，数据库没有更新。已完成。
16. debug 查找没有更新的原因。没有取到 category，字段名写错了。已完成。
17. 写了两个 category，里层的是多余的，删除，通过外层 input_category 获取。已完成。
18. 测试。测试失败，花字的结果存到了字幕中。已完成。  
19. 修改判断逻辑，字幕和花字放到两个不同的列表中，分别存，分别更新。已完成。
20. 修改代码。已完成。
21. 测试。测试失败，后台报错。字段错误。已完成。
22. 修改代码。已完成。
23. 测试。已完成。
24. 修改逻辑，现在是只有 input 内容改变才可以点击保存，应该是标注字幕和花字、删除、添加、调整顺序以后都可以保存。已完成。
25. 把保存的逻辑提取成一个函数。已完成。
26. 上面所有这些的监听事件都调用保存的函数。已完成。
































27. 测试。
28. 修改完以后刷新。
29. 修改完以后应该刷新这个图片的结果。














今天事情比较多，用在工作上的时间一共不到两个小时，没做多少事儿。

教小侄子写作业，一个半小时。   

和家人视频两个个小时。

晚上要做核酸，6 点多就回去了。

做完核酸要洗衣服，收拾东西。


# 机器学习课程  

1. 重读了三遍第 19 节。   


# 修改保存功能   

1. 重构代码。现在的函数太大了，功能耦合严重，不能灵活适应变化。把大函数拆解成一系列小函数。从内层开始。已完成。  
2. 提取 ocr 处理函数。ocr_process_function。已完成。
3. 提取 logo 和 breed 处理函数。logo_or_breed_process_function。已完成。
4. 提取类别判断函数。category_process_function。已完成。
5. 提取 Ajax 请求函数。detail_save_ajax。已完成。  
6. 所有的处理都提取成一个大函数。detail_save。已完成。  
7. 把函数整体从监听 input 改变的事件中提取出来，监听事件改为函数调用。已完成。
8. 标注字幕和花字、删除、添加、调整顺序事件中也调用这个函数。已完成。 
9. 测试。测试失败，保存按钮的事件没有没有生效。已完成。
10. debug 查找问题。判断内容非空的时候，在别的事件中调用的时候，this 发生改变，已经不再是 input 框，所以没有进入分支语句。已完成。
11. 修改 breed 代码，传入 input 选择器。已完成。
12. 测试。已完成。
13. 重构代码，修改代码逻辑。现在每一个点击事件，都要通过不同的方式查找到 input 选择器，代码难以复用，难以维护。改为保存原来的状态，然后监听到事件以后，如果内容发生改变，则可以保存。
14. 还是应该具体问题具体分析，字幕花字 button 点击、删除、上移、下移都应该是可以直接保存，添加按钮以后如果 input 的内容发生变化则可以保存。


# 读《认知觉醒》

读完第三章、第四章和第五章

收获：
1. 要事第一。
2. 要处在拉伸区。不能太难，也不能太简单，太难了会打击信心，太简单了会陷入低效学习之中。练习曲子要练出错的地方，背单词要背记不住的，做题要做经常做错的。就是在拉伸区反复练习。
3. 如果太难了，就往回退一退。如果目标太高了，就降低一些。锻炼一个小时太累了，就改成半个小时。
4. 目标要明确。目标越明确，注意力的感知精度就会越高。目标要是“连续三次不犯任何错误，以适当的速度弹奏完曲子。”而不是“我要练琴半小时”这样宽泛的目标。
5. 把大的目标拆解成小目标，任务就会立即从困难区转移到拉伸区。几乎所有的执行力强的人，都是拆解任务的高手。




















# 标注检查工具待完成功能  


1. 画框  
2. 缩略图页面     
3. 分页
4. 图片放大
5. 下拉框多选和搜索功能   
6. 
7. 日期筛选
8. 编辑
9. 保存
10. 忽略
11. 添加
12. 适配
13. 列表页 title 右键新窗口打开。


















# 海上装备   

# 适配    

1. 弹框滚动条。    
2. 左侧列表悬停显示名称。已完成。    
3. 代办已办如果放不下要换行。       
4. 回车搜索有问题。   



































# 尼尔森项目  



# 回归测试  
1. 添加 is_zimu 字段。已完成。   
2. 什么是回归测试。读百度前 5 篇文章。已完成。  
3. Python unittest 怎么写。读书，读官网。  
4. 怎么写 merge request  
5. 怎么创建分支？  
6. 分支里都要写什么？  
7. 要不要上传视频？不上传视频。已完成。  
8. 上传 CSV 文件。  
9. CSV 文件，放到什么文件夹下？  






























问之前通读一遍  

### 工具清单  

如果要达到两倍的产出，第一步就是要做到能独立解决问题。用 3 个月时间，实现基本上可以独立解决问题。之后就可以随心所欲写程序了。   

所有的工具都用上  

培养出解决问题的能力，要远比解决某个具体问题要重要得多。  

训练模型，理解代码，要远比完成工作重要的多。弄懂模型训练的代码，先 notebook，再 python 文件   

有枣没枣打三竿。不管是什么问题，不管差多少会不会，先自己尝试解决，没有任何损失，会大幅提高解决问题的能力，解决的时候会印象更加深刻。  

解决问题是没有尝试次数限制的，但是只要一次成功就成功了，肯定是可以解决的。   


#### 通用工具  
1. 百度  
2. 官网。Django、Python 文档就是最好的笔记      
3. google    
4. debug，掌握了 debug 以后，无所不能。debug 是最强的理解代码，发现错误的工具。只要有 debug，没有解决不了的问题。   
5. debug 源码。比如 Python 的 package 报错，搜不到的时候，就可以 debug 源码；通过读源码学习好的编程方法。     
6. 多试。大部分代码都是这么写出来的。JavaScript、CSS、海上装备、专家观点库        
7. 平时读文档和书的目录，遇到问题多去查文档查书，通过实际问题带动学习，把学习的时间融入到工作过程中间。unittest、《Python Cookbook》、《Effective Python》   


#### 写代码原则   
1. 可工作的软件是衡量进度的首要标准。
2. 考虑能够工作的**最**简单的事情。   
3. 只编写能够编写的**最高质量**的代码。  
4. 每天、每小时、每分钟重构代码。经常是大量的微不足道的改进，函数名、拆分函数、结构、逻辑、顺序。（重构代码，赏心悦目，极度舒适）
5. 不要为以后设计，你不需要它。
6. 不能容忍重复的代码。   
7. 
8. 先写测试。   
9. 测试和代码更迭速度在几分钟左右。
10. 每天多次运行测试。   
11. 交付一个具有基本功能的系统，然后每隔一两周就交付一个功能逐渐增多的系统。   
12. 仅当 30% 的必须功能可以工作时，才可以确定进度完成了 30%。   
13. 跑得过快会导致精疲力尽，要工作在一个可以保证在整个项目开发期间保持最高质量标准的速度上。   
14. 关于函数，最重要的原则是：只做一件事，并且要做好。
15. 持续集成，提交是没有次数限制的。


#### 写代码工具：  
1. 拆解：一个一个来，不要全部一起解决    
2. 先实现最简单的**一个**最小的最细的功能，然后再实现第二简单的功能  
3. 自己动手先试一试。有枣没枣打三竿。不管是什么问题，不管差多少会不会，先自己尝试解决，没有任何损失，会大幅提高解决问题的能力。
4. 自己先尝试 20 种方法，不行再说   
5. 一定是可以解决的。即使解决不了，也要尽最大努力，能做多少做多少  
6. 参考原来的代码。专家观点库参考科技搜搜
7. 把分析过程写下来，会清楚很多，说清楚是哪一步的哪一个点遇到了什么样的困难
8. 百度搜这一个小点的实现  
9. 测试一个最小的功能。用 ipython、pycharm 运行一点一点试  
10. 不知道什么方法的时候用 .，可以读到所有的 API，相当于读文档，极其强大，是做新的工作的最有力的工具。    
11. 


#### 改 bug 工具：  
1. debug。PyCharm，在 debug 里试；用 debug 的 watch 功能；用 PyCharm 的 Python Console 测 Django 、pdb、
2. 拆解到一行具体的代码，确定是哪里的问题。  
3. 认识符号，熟悉规则。弄懂不不熟悉的具体函数和语法。百度、官方文档或看源码。
4. 中间 print    
5. 看 log 日志  
6. 复制出来一个文件，Python 运行。做测试    
7. 先实现一个最简单的，比如就写一个一行代码的函数，测试功能是不是能走通  
8. 和正常的对比，看差异，看差异是怎么产生的，是什么时候产生的。



把问题说清楚    



## 方法 1：  






#### 开发新项目工具  
1. 先在 GitHub 搜索项目。字幕提取、标注检查。节省几个月的开发时间。花时间去找是非常值得的。
2. 看整体功能，看部分功能，找到能用的部分也是非常好的。  
3. 看可扩展性，如果可以自己扩展，也是非常好的。   
4. 在开源项目上进行开发，要先定位位置，可以删除看变化   
5. 在源码上开发；一个是源码，一个是文档  






#### 不常用工具：  
1. 读代码不要从头按顺序一行一行读，而是要从 main 开始读，用到哪个函数，就去看哪个函数。  
2. 
3. 换一种思路，不要先入为主，自己限制了自己。拼字符串不行，就不拼字符串了，用 append；
4. 有些时候不用懂程序，靠试也可以实现功能，也可以改 bug。有时候效率极高。  
5. pythontutor、pysnooper  



#### 前端项目  
1. 浏览器 debug
2. 在浏览器的 console 里，测试一个最小的功能。一点一点试   
3. 看浏览器的 HTML 和 CSS
4. 看 source
5. 看请求和响应 
6. 可以通过在 github 上看别人的项目，学习 css 和 jQuery   



#### 机器学习  
1. 做中学：Practice is the best of all instructors.--Publilius Syrus  
2. 教中学  
3. 第一步就是过数据  
4. 学习 pandas 函数的最好的办法就是删除看变化。      
5. 学习 pandas 这些，不能靠熟能生巧，而是先拆解弄懂功能，然后自己多使用。这个一个巨大的观念和方法的转变。   


#### 原来原则  
4. 测试驱动开发：先拉水平线，再砌砖，而不是先砌砖，再拉水平线。  

