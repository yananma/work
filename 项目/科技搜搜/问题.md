

# 字幕和花字分离  


## 方法 3 

两条路  

1、读代码，理解思想 
2、再找别的项目  



## 方法 2   

先读 readme 文档。已完成。    

走通流程  

debug 5 遍代码  





## 方法 1  

### 问题  

识别的字不一样  
重复率取多少？文本长短，比如一共 10 句话，一句字幕就占了 10%。可能还要做判断。  
怎么根据位置判断。（每个视频字幕位置不一样）  



### 流程  

2. 定规则  
① 不管技术，定规则  
字幕相对固定，出现在特定区域，并且持续出现，内容变化度高  
花字重复率高，每帧识别结果重复度高  


② 考虑技术
先判断重复率，重复率非常高的是花字  
再判断位置，位置相对固定的，内容变化度高的是字幕  



7. 根据位置和变化率进行判断  




### 已完成  

1. 读聊天记录，读文档，读 CSV 文件，读脚本。完成   


3. 读取 CSV 文本。已完成。  


4. 统计数量。已完成。



5. 算重复率。已完成。  



6. 提取位置  
坐标含义：已完成。  









## 方法 3  

























# update 字段  

## 方法 1：  

弄懂代码的意思，看看是干什么的，再修改  

debug 原来的文件 yuce.py  

debug 新的文件 update.py  



## 方法 2：  

现在的问题有三个：  
1. 不需要 lac 属性，但是存了 lac 属性。解决办法应该就是不存 datas，只存自己需要的。  
2. 该删除的没删除。debug 看流程  
3. 没有终止条件  

先解决没有终止条件的问题。  


## 方法 3：  

重新建一个索引，重新上一次数据，以备不时之需。（先做方法 3）  


## 方法 4：  



## 方法 5：  



## 方法 6：  



## 方法 7：  




## 方法 8：  




## 方法 9：  



## 方法 10：  




## 方法 11：  




## 方法 12：  




## 方法 13：  



## 方法 14：  




## 方法 14：  




## 方法 15：  




## 方法 16：  




## 方法 17：  




## 方法 18：  




## 方法 19：  




## 方法 20：  












### 工具清单  

1. 拆解：一个一个来，不要全部一起解决；拆解到最细的一点，然后完成这一点；
2. 先实现最简单的功能，然后再实现第二简单的功能  
3. 百度
4. 认识符号，熟悉规则。弄懂不懂的函数和语法。python 官方文档或百度
5. 换一种思路，自己先尝试 20 种方法，不行再说   
6. debug，在 debug 里试；用 debug 的 watch 功能  
7. 参考原来的代码  
8. GitHub 搜索项目  
9. 把分析过程写下来，会清楚很多，弄清楚是哪一步的哪一个点遇到了什么样的困难说清楚  
10. 用搜索引擎去搜这一个小点的实现  
11. 用 ipython 测试一个小功能  
12. 不知道什么方法的时候用 .，比如 pandas 取一行，用 iterrow()  
13. 不要企图编写完美无缺的代码，而是要先编写行之有效的代码，再决定是对其进行进一步改进，还是转而去编写新代码  
14. 有些时候不用懂程序，靠试也可以实现功能，也可以改 bug。  
15. 中间 print  
16. 看 log 日志  
17. pythontutor、pysnooper  
18. 复制出来一个文件，Python 运行
19. 查找函数在 Edit -> Find -> Find in Path 里
20. 读代码不要从头按顺序一行一行读，而是要从 main 开始读，用到哪个函数，就去看哪个函数。








