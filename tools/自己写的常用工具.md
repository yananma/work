
先写上，常用的就往上移  

### read_json    

```python 
def read_json(json_file):
    """读取 JSON"""
    with open(json_file, 'r', encoding='utf-8') as f:
        lines = f.readlines()
        lines = [json.loads(line) for line in lines]
        return lines
```


### write_list_to_json  

```python 
def write_list_to_json(json_file, data_list):
    """写入 JSON"""
    with open(json_file, 'w', encoding='utf-8') as f:
        for line in data_list:
            f.write(json.dumps(line, ensure_ascii=False) + '\n') 
```


### 合并 json  

```python 
def concate_json(old_file, new_file):
    """合并 JSON 文件"""
    with open(old_file, 'a', encoding='utf-8') as f:
        with open(new_file, 'r', encoding='utf-8') as nf:
            for line in nf:
                f.write(line)
```


### json_to_list 把 json 转成指定的 list 格式  

```python 
def json_to_list(json_file):
    """json 转成指定的 list 格式"""
    result_list = [] 
    with open(json_file, 'r', encoding='utf-8') as f:
        for line in f: 
            result_dict = {}
            line = json.loads(line)  
            result_dict['序号'] = line['docid'] 
            result_dict['监控对象'] = line['brand'] 
            result_dict['命中词'] = line['keyword'] 
            result_dict['原始标签'] = "负面" if line['label'] else "非负面" 
            result_dict['模型预测'] = "非负面" if line['label'] else "负面" 
            result_dict['文本内容'] = line['sentence'].strip() 
            result_dict['人工评级'] = ''
            result_list.append(result_dict) 
    return result_list 
```



### pandas 读 Excel  

```python 
df = pd.read_excel('work/v9/trainv9.xlsx', engine='openpyxl', sheet_name='Sheet1')
```


### pandas 写入 Excel  

先传入 list  
```python 
df = pd.DataFrame(data_list) 
df.to_excel('work/v10/模型第二次反馈数据.xlsx', index=False) 
```


写入多个 sheet  

```python 
with pd.ExcelWriter('模型反馈数据.xlsx') as writer:
    df9.to_excel(writer, sheet_name='c_label0_some_preds1', index=False)
    df10.to_excel(writer, sheet_name='d_label1_all_preds0', index=False)
```



### 读取 sent_num_list  

```python 
def get_sent_num_list(json_file):
    """读取 sent_num"""
    with open(json_file, 'r', encoding='utf-8') as nf:
        sent_num_list = json.loads(nf.readlines()[0])
        return sent_num_list
```



